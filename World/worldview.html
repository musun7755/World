<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worldview: Formosa // 福爾摩沙</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #050505;
            --neon-cyan: #00f0ff;
            --glass-bg: rgba(15, 15, 15, 0.9);
            --border-glow: 0 0 15px rgba(0, 240, 255, 0.3);
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-dark);
            color: #fff;
            margin: 0;
            overflow-x: hidden;
        }

        #matrix-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.1; }

        /* ========== 側邊抽屜選單樣式 (新增) ========== */
        .menu-toggle {
            position: fixed; top: 15px; right: 20px; width: 50px; height: 50px;
            background: var(--glass-bg); border: 1px solid var(--neon-cyan); border-radius: 5px;
            cursor: pointer; z-index: 1100; display: flex; flex-direction: column;
            justify-content: center; align-items: center; gap: 6px; box-shadow: 0 0 10px rgba(0, 240, 255, 0.3); transition: 0.3s;
        }
        .menu-toggle:hover { box-shadow: 0 0 20px var(--neon-cyan); }
        .menu-toggle span { width: 30px; height: 2px; background: var(--neon-cyan); transition: 0.3s; }
        .menu-toggle.active span:nth-child(1) { transform: translateY(8px) rotate(45deg); }
        .menu-toggle.active span:nth-child(2) { opacity: 0; }
        .menu-toggle.active span:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }

        .side-menu {
            position: fixed; top: 0; right: -300px; width: 300px; height: 100%;
            background: var(--glass-bg); backdrop-filter: blur(20px); border-left: 1px solid var(--neon-cyan);
            z-index: 1050; display: flex; flex-direction: column; padding: 100px 30px 30px 30px;
            box-sizing: border-box; transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); box-shadow: -10px 0 30px rgba(0, 0, 0, 0.5);
        }
        .side-menu.active { right: 0; }
        .side-menu h3 { color: var(--neon-cyan); font-size: 0.8rem; letter-spacing: 3px; border-bottom: 1px solid rgba(0, 240, 255, 0.3); padding-bottom: 10px; margin-bottom: 20px; opacity: 0.7; }
        .side-menu a { color: #ccc; text-decoration: none; font-size: 1.1rem; font-weight: 500; margin: 10px 0; letter-spacing: 2px; transition: 0.3s; display: block; }
        .side-menu a:hover { color: var(--neon-cyan); padding-left: 10px; text-shadow: 0 0 10px var(--neon-cyan); }

        /* --- 頂部城市導覽列 --- */
        .top-nav {
            position: sticky; top: 0; width: 100%; background: rgba(0,0,0,0.85);
            backdrop-filter: blur(10px); z-index: 100; border-bottom: 1px solid var(--neon-cyan);
            display: flex; justify-content: center; gap: 15px; padding: 15px 0;
        }
        .nav-tab {
            color: #ccc; text-decoration: none; font-weight: bold; letter-spacing: 2px;
            padding: 8px 15px; border: 1px solid transparent; cursor: pointer; transition: 0.3s;
            border-radius: 4px; font-size: 0.95rem;
        }
        .nav-tab.active, .nav-tab:hover {
            color: var(--neon-cyan); border: 1px solid var(--neon-cyan); text-shadow: 0 0 10px var(--neon-cyan);
        }
        .back-btn { position: absolute; left: 20px; top: 18px; color: var(--neon-cyan); text-decoration: none; font-weight: bold; font-size: 0.9rem; letter-spacing: 1px; }

        /* --- 主內容區排版 --- */
        .content-container { max-width: 1200px; margin: 40px auto; padding: 0 20px; }
        .city-section { display: none; animation: fadeIn 0.5s ease forwards; }
        .city-section.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* 城市 Hero 大圖 */
        .city-hero {
            position: relative; width: 100%; height: 350px; border-radius: 10px; overflow: hidden;
            margin-bottom: 40px; border: 1px solid rgba(255,255,255,0.1); cursor: zoom-in;
        }
        .city-hero img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .city-hero:hover img { transform: scale(1.02); }
        .city-hero-text {
            position: absolute; bottom: 0; left: 0; width: 100%; padding: 40px 30px 30px 30px;
            background: linear-gradient(transparent, rgba(0,0,0,0.95)); pointer-events: none;
        }
        .city-hero-text h1 { font-size: 2.8rem; margin: 0; letter-spacing: 5px; color: var(--neon-cyan); }
        .city-hero-text p { margin-top: 10px; color: #ccc; max-width: 800px; line-height: 1.6; }

        /* 地標網格 */
        .landmark-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px;
            margin-bottom: 60px;
        }
        .landmark-card {
            background: var(--glass-bg); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px; overflow: hidden; transition: 0.3s; cursor: zoom-in;
        }
        .landmark-card:hover { border-color: var(--neon-cyan); box-shadow: var(--border-glow); transform: translateY(-5px); }
        .landmark-img { width: 100%; height: 180px; overflow: hidden; }
        .landmark-img img { width: 100%; height: 100%; object-fit: cover; }
        
        .landmark-info { padding: 20px; }
        .landmark-info h3 { margin: 0 0 10px 0; color: var(--neon-cyan); letter-spacing: 2px; }
        .landmark-info p { font-size: 0.95rem; color: #bbb; line-height: 1.6; }

        .tag { background: rgba(0, 240, 255, 0.1); border-left: 2px solid var(--neon-cyan); padding: 5px 10px; font-size: 0.85rem; color: #ddd; margin-top: 5px; display: block; }

        /* 燈箱 */
        #lightbox {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(10px);
            display: none; justify-content: center; align-items: center; z-index: 2000; cursor: zoom-out;
        }
        #lightbox.active { display: flex; }
        #lightbox img { max-width: 90%; max-height: 85%; border-radius: 8px; border: 1px solid var(--neon-cyan); box-shadow: 0 0 30px rgba(0, 240, 255, 0.5); transform: scale(0.9); transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        #lightbox.active img { transform: scale(1); }

        @media (max-width: 768px) {
            .top-nav { flex-wrap: wrap; gap: 8px; padding: 60px 10px 10px 10px; } /* 為選單按鈕留空間 */
            .city-hero { height: 250px; }
            .city-hero-text h1 { font-size: 2rem; }
            .back-btn { position: absolute; top: 15px; left: 20px; }
        }
    </style>
</head>
<body>
    <canvas id="matrix-bg"></canvas>

    <div class="menu-toggle" id="menuToggle"><span></span><span></span><span></span></div>
    <nav class="side-menu" id="sideMenu">
        <h3>SYSTEM NAVIGATION</h3>
        <a href="index.html">HOME // 首頁</a>
        <a href="worldview.html">WORLD // 世界觀</a>
        <h3 style="margin-top: 30px;">PERSONNEL DATA</h3>
        <a href="characters/jiusi.html">汣司｜個人檔案</a>
        <a href="characters/yanshou.html">焱狩｜個人檔案</a>
        <a href="characters/hesheng.html">赫湦｜個人檔案</a>
        <a href="characters/shaoan.html">邵安｜個人檔案</a>
        <a href="characters/jiran.html">霽冉｜個人檔案</a>
        <a href="characters/linxie.html">林蠍｜個人檔案</a>
    </nav>

    <nav class="top-nav">
        <a href="index.html" class="back-btn">&lt; SYSTEM.BACK</a>
        <div class="nav-tab active" onclick="showCity('capital')">首都</div>
        <div class="nav-tab" onclick="showCity('bookcity')">書城</div>
        <div class="nav-tab" onclick="showCity('guwan')">古灣</div>
        <div class="nav-tab" onclick="showCity('greyharbor')">灰港</div>
    </nav>

    <div class="content-container">
        <section id="capital" class="city-section active">
            <div class="city-hero" onclick="openLightbox('images/capital_main.jpg')">
                <img src="images/capital_main.jpg" alt="首都">
                <div class="city-hero-text">
                    <h1>首都</h1>
                    <p>福爾摩沙的政治與經濟核心 。高樓林立，大眾運輸與磁浮列車網路發達 。</p>
                </div>
            </div>
            <div class="landmark-grid">
                <div class="landmark-card" onclick="openLightbox('images/cap_tower.jpg')">
                    <div class="landmark-img"><img src="images/cap_tower.jpg" alt="光源塔"></div>
                    <div class="landmark-info"><h3>光源塔</h3><p>125F 高空建築，設有觀景台與高空彈跳 。</p></div>
                </div>
                <div class="landmark-card" onclick="openLightbox('images/cap_crystal.jpg')">
                    <div class="landmark-img"><img src="images/cap_crystal.jpg" alt="晶港區"></div>
                    <div class="landmark-info"><h3>晶港區</h3><p>繁華商貿帶，五星級酒店與旗艦商場密集地 。</p></div>
                </div>
                <div class="landmark-card" onclick="openLightbox('images/cap_market.jpg')">
                    <div class="landmark-img"><img src="images/cap_market.jpg" alt="光華夜市"></div>
                    <div class="landmark-info"><h3>光華夜市</h3><p>全國最大夜市，傳統與創意料理匯集地 。</p></div>
                </div>
                <div class="landmark-card" onclick="openLightbox('images/cap_dome.jpg')">
                    <div class="landmark-img"><img src="images/cap_dome.jpg" alt="首都大巨蛋"></div>
                    <div class="landmark-info"><h3>首都大巨蛋</h3><p>職業聯賽地，具備開合式圓頂的全國最大表演場 。</p></div>
                </div>
            </div>
        </section>

        <section id="bookcity" class="city-section">
            <div class="city-hero" onclick="openLightbox('images/book_main.jpg')">
                <img src="images/book_main.jpg" alt="書城">
                <div class="city-hero-text">
                    <h1>書城</h1>
                    <p>自由學術特區，創作者與學生的樂園 。街道即是展場，設有「漂流書車」 。</p>
                </div>
            </div>
            <div class="landmark-grid">
                <div class="landmark-card" onclick="openLightbox('images/book_tower.jpg')">
                    <div class="landmark-img"><img src="images/book_tower.jpg" alt="塔語樓"></div>
                    <div class="landmark-info">
                        <h3>塔語樓</h3>
                        <p>書城最具代表性的公共建築 。</p>
                        <span class="tag">1F 棲聲咖啡 // 3F 泡頁放映</span>
                        <span class="tag">5F 頂樓廣場 (夜景極佳)</span>
                    </div>
                </div>
                <div class="landmark-card" onclick="openLightbox('images/book_lib.jpg')">
                    <div class="landmark-img"><img src="images/book_lib.jpg" alt="思潮圖書館"></div>
                    <div class="landmark-info"><h3>思潮圖書館</h3><p>24H 開放，提供自由閱讀與多媒體書區 。</p></div>
                </div>
            </div>
        </section>

        <section id="guwan" class="city-section">
            <div class="city-hero" onclick="openLightbox('images/guwan_main.jpg')">
                <img src="images/guwan_main.jpg" alt="古灣">
                <div class="city-hero-text">
                    <h1>古灣</h1>
                    <p>街道蜿蜒的老城區 。白天是藝術市集，夜晚轉為秘密交易與情色展演地 。</p>
                </div>
            </div>
            <div class="landmark-grid">
                <div class="landmark-card" onclick="openLightbox('images/gw_velvet.jpg')">
                    <div class="landmark-img"><img src="images/gw_velvet.jpg" alt="絲絨之境"></div>
                    <div class="landmark-info"><h3>絲絨之境</h3><p>極知名的男公關會所，氣氛迷幻奢華 。</p></div>
                </div>
                <div class="landmark-card" onclick="openLightbox('images/gw_cat.jpg')">
                    <div class="landmark-img"><img src="images/gw_cat.jpg" alt="霧喵所"></div>
                    <div class="landmark-info"><h3>霧喵所</h3><p>寵物中途之家，提供領養、寄放與交流空間 。</p></div>
                </div>
            </div>
        </section>

        <section id="greyharbor" class="city-section">
            <div class="city-hero" onclick="openLightbox('images/grey_main.jpg')">
                <img src="images/grey_main.jpg" alt="灰港">
                <div class="city-hero-text">
                    <h1>灰港</h1>
                    <p>極端自治區 。高樓與舊街混雜，全城瀰漫冷灰工業感與霓虹光 。</p>
                </div>
            </div>
            <div class="landmark-grid">
                <div class="landmark-card" onclick="openLightbox('images/grey_pier.jpg')">
                    <div class="landmark-img"><img src="images/grey_pier.jpg" alt="海藻碼頭"></div>
                    <div class="landmark-info"><h3>海藻碼頭</h3><p>餐酒館與貨櫃景觀交織的獨特區域 。</p></div>
                </div>
                <div class="landmark-card" onclick="openLightbox('images/grey_asmr.jpg')">
                    <div class="landmark-img"><img src="images/grey_asmr.jpg" alt="頻鳴窟"></div>
                    <div class="landmark-info"><h3>頻鳴窟</h3><p>隱蔽的聲音酒吧，主打 ASMR 與聲音調教體驗 。</p></div>
                </div>
            </div>
        </section>
    </div>

    <div id="lightbox" onclick="closeLightbox()"><img src="" id="lightbox-img"></div>

    <script>
        // 目錄切換
        const toggle = document.getElementById('menuToggle');
        const sideMenu = document.getElementById('sideMenu');
        toggle.addEventListener('click', () => { 
            toggle.classList.toggle('active'); 
            sideMenu.classList.toggle('active'); 
        });

        // 城市切換
        function showCity(cityId) {
            document.querySelectorAll('.city-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.getElementById(cityId).classList.add('active');
            event.currentTarget.classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // 燈箱功能
        const lb = document.getElementById('lightbox');
        const lbImg = document.getElementById('lightbox-img');
        function openLightbox(src) { lbImg.src = src; lb.classList.add('active'); }
        function closeLightbox() { lb.classList.remove('active'); }

        // 矩陣動畫
        const canvas = document.getElementById('matrix-bg');
        const ctx = canvas.getContext('2d');
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        resize();
        window.addEventListener('resize', resize);
        const chars = "FORMOSA SYSTEM 01";
        const drops = Array(Math.floor(canvas.width/16)).fill(1);
        function draw() {
            ctx.fillStyle = "rgba(5, 5, 5, 0.05)"; ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#00f0ff"; ctx.font = "16px monospace";
            drops.forEach((y, i) => {
                const text = chars[Math.floor(Math.random()*chars.length)];
                ctx.fillText(text, i*16, y*16);
                if(y*16 > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            });
        }
        setInterval(draw, 35);
    </script>
</body>
</html>
